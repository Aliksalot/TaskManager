<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src = "./scripts/login/logout.js"></script>
    <script>
        window.addEventListener('beforeunload', function(event) {
            if(event.unload){
                logout()
            }
            
        });
    </script>
</head>
<body>

    <h1 id="myHeading">TaskEasy</h1>
    
    <script src = "./scripts/task_manager/load_all.js"></script>

    <script src = "./scripts/task_manager/add_task.js"></script>
    <script src = "./scripts/task_manager/delete_task.js"></script>

    <script>
        const pressEnter = (event, func) =>{
            if(event.key === 'Enter')
                func()
        }
    </script>
    <div id = "mainActionButtons">

        <script src = "./scripts/task_manager/show_done.js"></script>
        <script src = "./scripts/task_manager/update_status.js"></script>
        <script src = "./scripts/login/logout.js"></script>
        
        <button id = "addTaskButton" onclick="addTask()">Add new task</button>
        <button id = "deleteTaskButton" onclick = "deleteTask()">Delete task</button>
        <button id = "showDoneButton" onclick = "show_done()">Hide finished tasks</button>
        <button id = "logout" onclick = "logout()">Log out</button>
        
    </div>
    
    <div id = "newTaskInputBox" style="display: none" onkeydown="pressEnter(event, addTask)">

        <label for = "inputTaskName">Enter the name of the task</label>
        <input type = "text" id = "inputTaskName">
            
        <label for = "inputDescription">Enter Description of the task</label>
        <input type = "text" id = "inputDescription">
            
        <label for = "inputDeadLine">Enter deadline for the task</label>
        <input type = "text" id = "inputDeadLine">	
	
    </div>
    

    <div id = 'deleteTaskInputBox' style = "display: none" onkeydown="pressEnter(event, deleteTask)">

        <label for = "inputTaskToDelete">Enter task name</label>
    	<input type = "text" id = "inputTaskToDelete">
    
    </div>

    <h1 id = "taskDisplay">Tasks: </h1>

    <div id = "taskDisplayBox" style = "display: block;" class = 'ALL'>
        <script src = "./scripts/task_manager/req_task.js" ></script>
    </div> 

    
</body>
</html>
